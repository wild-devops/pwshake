attributes:
  configuration: Release

templates:
  dotnet:
    parameters:
      command:
      options: --version
    cmd: dotnet [[command]] [[options]]
  msbuild:
    parameters:
      project: '{{pwshake_path}}/example.msbuild.proj'
      targets: Hello
      properties: Configuration=Debug
    cmd: >
      dotnet msbuild [[project]]
      /t:[[targets]]
      /p:[[properties]]

tasks:
  msbuild:
  - template: msbuild
  - template: msbuild
    on_error: continue
    parameters:
      targets: Build
      properties: Configuration={{configuration}}
  - template: dotnet

invoke_tasks:
- msbuild
