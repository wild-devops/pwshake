attributes:
  configuration: Release

templates:
  doitall:
    parameters:
      payload:
    cmd: >
      [[payload]]
  dotnet:
    template: doitall
    parameters:
      payload: dotnet [[command]] [[options]]
      command:
      options: --version
  msbuild:
    template: dotnet
    parameters:
      command: msbuild
      options: >
        [[project]]
        /t:[[targets]]
        /p:[[properties]]
      project: '{{pwshake_path}}/example.msbuild.proj'
      targets: Hello
      properties: Configuration=Debug

tasks:
  msbuild:
  - template: msbuild
  - template: msbuild
    on_error: continue
    parameters:
      targets: Build
      properties: Configuration={{configuration}}
  - pwsh: Write-Host '<<something>>'
  - template: dotnet

invoke_tasks:
- msbuild
